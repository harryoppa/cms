!function(e){var r={};function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(o,n,function(r){return e[r]}.bind(null,n));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="/",t(t.s=52)}({52:function(e,r,t){e.exports=t(53)},53:function(e,r){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){e.fn.filetree=function(r){var o={animationSpeed:"slow",console:!1};function n(r){return r=e.extend(o,r),this.each((function(){e(this).find("li").on("click",".file-opener-i",(function(r){return r.preventDefault(),e(this).hasClass("fa-plus-square")?(e(this).addClass("fa-minus-square"),e(this).removeClass("fa-plus-square")):(e(this).addClass("fa-plus-square"),e(this).removeClass("fa-minus-square")),e(this).parent().toggleClass("closed").toggleClass("open"),!1}))}))}if("object"==t(r)||!r)return n.apply(this,arguments)}}(jQuery),function(e){e.fn.dragScroll=function(r){function o(){var t,o,n=e(this),a=e.extend({scrollVertical:!1,scrollHorizontal:!0,cursor:null},r),l=!1;n.on({mousemove:function(r){l&&function(r,n){var l=e(n);a.scrollVertical&&l.scrollTop(l.scrollTop()+(t-r.pageY)),a.scrollHorizontal&&l.scrollLeft(l.scrollLeft()+(o-r.pageX))}(r,this)},mousedown:function(e){n.css("cursor",a.cursor?a.cursor:a.scrollVertical&&a.scrollHorizontal?"move":a.scrollVertical?"row-resize":a.scrollHorizontal?"col-resize":void 0),l=!0,t=e.pageY,o=e.pageX},mouseup:function(){l=!1,n.css("cursor","auto")},mouseleave:function(){l=!1,n.css("cursor","auto")}})}if("object"==t(r)||!r)return o.apply(this,arguments)}}(jQuery),$((function(){$(".file-tree-wrapper").dragScroll();var e=$(".tree-form-container").find(".tree-loading"),r=$(".tree-categories-container").find(".tree-loading");function t(e){r.removeClass("d-none"),$(".file-tree-wrapper").filetree().removeClass("d-none").hide().slideDown("slow"),r.addClass("d-none"),e&&$(".file-tree-wrapper").find('li[data-id="'+e+'"] .category-name:first').addClass("active")}function o(e){$(".tree-form-body").html(e),TVHung.initResources(),TVHung.handleCounterUp(),TVHung.initMediaIntegrate(),window.EditorManagement&&(new EditorManagement).init()}function n(r,t){var n;(n=$.ajaxSetup().data)&&(delete n.ref_from,delete n.ref_lang),$.ajax({url:r,type:"GET",beforeSend:function(){e.removeClass("d-none"),$(".file-tree-wrapper").find("a.active").removeClass("active"),t&&t.addClass("active")},success:function(e){e.error?TVHung.showError(e.message):o(e.data)},error:function(e){TVHung.handleError(e)},complete:function(){e.addClass("d-none")}})}t(),$(document).on("click",".tree-categories-container .toggle-tree",(function(e){var r=$(e.currentTarget);r.hasClass("open-tree")?(r.text(r.data("collapse")),$(".tree-categories-container").find(".folder-root.closed").removeClass("closed").addClass("open")):(r.text(r.data("expand")),$(".tree-categories-container").find(".folder-root.open").removeClass("open").addClass("closed")),r.toggleClass("open-tree")})),$(document).on("click",".file-tree-wrapper .fetch-data",(function(e){e.preventDefault();var r=$(e.currentTarget);r.attr("href")?n(r.attr("href"),r):($(".file-tree-wrapper").find("a.active").removeClass("active"),r.addClass("active"))})),$(document).on("click",".tree-categories-create",(function(r){r.preventDefault(),function(r){var t={};a.get("ref_lang")&&(t.ref_lang=a.get("ref_lang"));$.ajax({url:r,type:"GET",data:t,beforeSend:function(){e.removeClass("d-none")},success:function(e){e.error?TVHung.showError(e.message):o(e.data)},error:function(e){TVHung.handleError(e)},complete:function(){e.addClass("d-none")}})}($(r.currentTarget).attr("href"))}));var a=new URLSearchParams(window.location.search);function l(e,r){var o=$(".file-tree-wrapper");$.ajax({url:o.data("url"),type:"GET",success:function(n){n.error?TVHung.showError(n.message):(o.html(n.data),t(e),jQuery().tooltip&&$('[data-toggle="tooltip"]').tooltip({placement:"top",boundary:"window"}),r&&r())},error:function(e){TVHung.handleError(e)}})}$(document).on("click","#list-others-language a",(function(e){e.preventDefault(),n($(e.currentTarget).prop("href"))})),$(document).on("submit",".tree-form-container form",(function(r){var t;r.preventDefault();var n=$(r.currentTarget),a=n.serializeArray(),i=null===(t=r.originalEvent)||void 0===t?void 0:t.submitter,s=!1;i&&i.name&&(s="apply"===i.value,a.push({name:i.name,value:i.value})),$.ajax({url:n.attr("action"),type:n.attr("method")||"POST",data:a,beforeSend:function(){e.removeClass("d-none")},success:function(r){if(r.error)TVHung.showError(r.message);else{TVHung.showSuccess(r.message);var t=s&&r.data.model?r.data.model.id:null;l(t,(function(){if(t)$('.folder-root[data-id="'+t+'"] a.fetch-data').length?$('.folder-root[data-id="'+t+'"] a.fetch-data').trigger("click"):location.reload();else if($(".tree-categories-create").length)$(".tree-categories-create").trigger("click");else{var n;o(null===(n=r.data)||void 0===n?void 0:n.form),e.addClass("d-none")}}))}},error:function(r){TVHung.handleError(r),e.addClass("d-none")}})})),$(document).on("click",".deleteDialog",(function(e){e.preventDefault();var r=$(e.currentTarget);$(".delete-crud-entry").data("section",r.data("section")),$(".modal-confirm-delete").modal("show")})),$(".delete-crud-entry").on("click",(function(e){e.preventDefault();var r=$(e.currentTarget);r.addClass("button-loading");var t=r.data("section");$.ajax({url:t,type:"DELETE",success:function(e){e.error?TVHung.showError(e.message):(TVHung.showSuccess(e.message),l(),$(".tree-categories-create").length?$(".tree-categories-create").trigger("click"):o("")),r.closest(".modal").modal("hide"),r.removeClass("button-loading")},error:function(e){TVHung.handleError(e),r.removeClass("button-loading")}})}))}))}});